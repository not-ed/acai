name: Publish Android Build

on:
    workflow_dispatch:

jobs:
    publish_release:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout main
              uses: actions/checkout@v3

            - name: Install required dotnet Workloads
              working-directory: Acai/AcaiMobile
              run: dotnet workload restore

            - name: Run dotnet publish
              working-directory: Acai/AcaiMobile
              run: |
                dotnet workload search
                dotnet workload install maui-android
                dotnet workload restore
                dotnet publish -f net8.0-android -c Release
